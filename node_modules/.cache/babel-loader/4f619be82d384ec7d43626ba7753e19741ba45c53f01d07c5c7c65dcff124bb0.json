{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import WeatherList from\"./components/Weather/WeatherList\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{useSelector}from\"react-redux\";import SearchBar from\"./components/SearchBar/SearchBar\";import WeatherCard from\"./components/Weather/WeatherCard\";import{selectFavorites}from\"./components/redux/selectors\";import Header from\"./components/Header/Header\";import{I18nextProvider}from\"react-i18next\";import i18n from\"./i18n\";import axios from\"axios\";import{addToFavorites}from\"./components/redux/slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[cities,setCities]=useState([]);const[weatherData,setWeatherData]=useState(null);const favorites=useSelector(selectFavorites);const[location,setLocation]=useState(null);useEffect(()=>{currentLocationWeather();},[]);const currentLocationWeather=()=>{navigator.geolocation.getCurrentPosition(async position=>{const{latitude,longitude}=position.coords;try{const response=await axios.get(\"https://api.openweathermap.org/data/2.5/weather\",{params:{lat:latitude,lon:longitude,appid:\"18431911169fef4afbe92c0ef62b8409\",units:\"metric\"}});const weatherData=response.data;setWeatherData(weatherData);setLocation({latitude,longitude});}catch(error){toast.error(\"Error fetching weather data:\",error);}},error=>{toast.error(\"Error getting current location:\",error);});};return/*#__PURE__*/_jsx(I18nextProvider,{i18n:i18n,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(SearchBar,{cities:cities,setCities:setCities,addToFavorites:addToFavorites,location:location}),weatherData&&/*#__PURE__*/_jsx(WeatherCard,{weatherData:weatherData}),favorites.length>0&&/*#__PURE__*/_jsx(WeatherList,{cities:cities}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-center\",autoClose:3000})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","WeatherList","ToastContainer","toast","useSelector","SearchBar","WeatherCard","selectFavorites","Header","I18nextProvider","i18n","axios","addToFavorites","jsx","_jsx","jsxs","_jsxs","App","cities","setCities","weatherData","setWeatherData","favorites","location","setLocation","currentLocationWeather","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","response","get","params","lat","lon","appid","units","data","error","children","className","length","autoClose"],"sources":["/Users/yelezaveta/Desktop/Без названия/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport WeatherList from \"./components/Weather/WeatherList\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useSelector } from \"react-redux\";\nimport SearchBar from \"./components/SearchBar/SearchBar\";\nimport WeatherCard from \"./components/Weather/WeatherCard\";\nimport { selectFavorites } from \"./components/redux/selectors\";\nimport Header from \"./components/Header/Header\";\nimport { I18nextProvider } from \"react-i18next\";\nimport i18n from \"./i18n\";\nimport axios from \"axios\";\nimport { addToFavorites } from \"./components/redux/slice\";\n\nconst App = () => {\n  const [cities, setCities] = useState([]);\n  const [weatherData, setWeatherData] = useState(null);\n  const favorites = useSelector(selectFavorites);\n  const [location, setLocation] = useState(null);\n\n  useEffect(() => {\n    currentLocationWeather();\n  }, []);\n\n  const currentLocationWeather = () => {\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        const { latitude, longitude } = position.coords;\n        try {\n          const response = await axios.get(\n            `https://api.openweathermap.org/data/2.5/weather`,\n            {\n              params: {\n                lat: latitude,\n                lon: longitude,\n                appid: \"18431911169fef4afbe92c0ef62b8409\",\n                units: \"metric\",\n              },\n            }\n          );\n          const weatherData = response.data;\n          setWeatherData(weatherData);\n          setLocation({ latitude, longitude });\n        } catch (error) {\n          toast.error(\"Error fetching weather data:\", error);\n        }\n      },\n      (error) => {\n        toast.error(\"Error getting current location:\", error);\n      }\n    );\n  };\n\n  return (\n    <I18nextProvider i18n={i18n}>\n      <div className=\"container\">\n        <Header />\n        <SearchBar\n          cities={cities}\n          setCities={setCities}\n          addToFavorites={addToFavorites}\n          location={location}\n        />\n        {weatherData && <WeatherCard weatherData={weatherData} />}\n        {favorites.length > 0 && <WeatherList cities={cities} />}\n        <ToastContainer position=\"top-center\" autoClose={3000} />\n      </div>\n    </I18nextProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}