{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import Select from\"react-select\";import sprite from\"../../images/sprite.svg\";import{HeaderWrapper,StyledSvg}from\"./Header.styled\";import{useTranslation}from\"react-i18next\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const customStyles={menu:provided=>({...provided,width:\"72px\"}),control:(provided,state)=>({...provided,padding:\"0px\",width:\"50px\",border:\"none\",boxShadow:state.isFocused?null:\"none\"}),indicatorSeparator:()=>({display:\"none\"}),option:provided=>({...provided,width:\"72px\"}),dropdownIndicator:(provided,state)=>({...provided,transform:state.selectProps.menuIsOpen?\"rotate(180deg)\":null,transition:\"transform 0.3s ease-in-out\",padding:\"0px\"}),singleValue:provided=>({...provided,color:\"#AFAFAF\",width:\"40px\"}),valueContainer:provided=>({...provided,padding:\"0px\"})};const Header=()=>{const{i18n}=useTranslation();const[selectedLanguage,setSelectedLanguage]=useState(null);const localStorageRef=useRef(localStorage);useEffect(()=>{const languageFromStorage=localStorageRef.current.getItem(\"i18next_lng\");if(languageFromStorage){setSelectedLanguage({value:languageFromStorage,label:languageFromStorage.toUpperCase()});}else{const userLanguage=(navigator.language||navigator.userLanguage).split(\"-\")[0];setSelectedLanguage({value:userLanguage,label:userLanguage.toUpperCase()});}},[]);useEffect(()=>{const languageFromStorage=localStorageRef.current.getItem(\"i18next_lng\");if(languageFromStorage&&(!selectedLanguage||languageFromStorage!==selectedLanguage.value)){setSelectedLanguage({value:languageFromStorage,label:languageFromStorage.toUpperCase()});}},[selectedLanguage]);const handleChangeLanguage=selectedOption=>{setSelectedLanguage(selectedOption);i18n.changeLanguage(selectedOption.value);localStorageRef.current.setItem(\"i18next_lng\",selectedOption.value);};const options=[{value:\"en\",label:\"EN\"},{value:\"ua\",label:\"UA\"},{value:\"he\",label:\"HE\"}];return/*#__PURE__*/_jsxs(HeaderWrapper,{children:[/*#__PURE__*/_jsx(StyledSvg,{children:/*#__PURE__*/_jsx(\"use\",{href:\"\".concat(sprite,\"#globe\")})}),/*#__PURE__*/_jsx(Select,{options:options,onChange:handleChangeLanguage,value:selectedLanguage,styles:customStyles})]});};export default Header;","map":{"version":3,"names":["React","useEffect","useState","useRef","Select","sprite","HeaderWrapper","StyledSvg","useTranslation","jsx","_jsx","jsxs","_jsxs","customStyles","menu","provided","width","control","state","padding","border","boxShadow","isFocused","indicatorSeparator","display","option","dropdownIndicator","transform","selectProps","menuIsOpen","transition","singleValue","color","valueContainer","Header","i18n","selectedLanguage","setSelectedLanguage","localStorageRef","localStorage","languageFromStorage","current","getItem","value","label","toUpperCase","userLanguage","navigator","language","split","handleChangeLanguage","selectedOption","changeLanguage","setItem","options","children","href","concat","onChange","styles"],"sources":["/Users/yelezaveta/Desktop/Без названия/src/components/Header/Header.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport Select from \"react-select\";\n\nimport sprite from \"../../images/sprite.svg\";\nimport { HeaderWrapper, StyledSvg } from \"./Header.styled\";\nimport { useTranslation } from \"react-i18next\";\n\nconst customStyles = {\n  menu: (provided) => ({\n    ...provided,\n    width: \"72px\",\n  }),\n  control: (provided, state) => ({\n    ...provided,\n    padding: \"0px\",\n    width: \"50px\",\n    border: \"none\",\n    boxShadow: state.isFocused ? null : \"none\",\n  }),\n  indicatorSeparator: () => ({ display: \"none\" }),\n  option: (provided) => ({\n    ...provided,\n    width: \"72px\",\n  }),\n  dropdownIndicator: (provided, state) => ({\n    ...provided,\n    transform: state.selectProps.menuIsOpen ? \"rotate(180deg)\" : null,\n    transition: \"transform 0.3s ease-in-out\",\n    padding: \"0px\",\n  }),\n  singleValue: (provided) => ({\n    ...provided,\n    color: \"#AFAFAF\",\n    width: \"40px\",\n  }),\n  valueContainer: (provided) => ({\n    ...provided,\n    padding: \"0px\",\n  }),\n};\n\nconst Header = () => {\n  const { i18n } = useTranslation();\n  const [selectedLanguage, setSelectedLanguage] = useState(null);\n  const localStorageRef = useRef(localStorage);\n\n  useEffect(() => {\n    const languageFromStorage = localStorageRef.current.getItem(\"i18next_lng\");\n    if (languageFromStorage) {\n      setSelectedLanguage({\n        value: languageFromStorage,\n        label: languageFromStorage.toUpperCase(),\n      });\n    } else {\n      const userLanguage = (navigator.language || navigator.userLanguage).split(\n        \"-\"\n      )[0];\n      setSelectedLanguage({\n        value: userLanguage,\n        label: userLanguage.toUpperCase(),\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    const languageFromStorage = localStorageRef.current.getItem(\"i18next_lng\");\n    if (\n      languageFromStorage &&\n      (!selectedLanguage || languageFromStorage !== selectedLanguage.value)\n    ) {\n      setSelectedLanguage({\n        value: languageFromStorage,\n        label: languageFromStorage.toUpperCase(),\n      });\n    }\n  }, [selectedLanguage]);\n\n  const handleChangeLanguage = (selectedOption) => {\n    setSelectedLanguage(selectedOption);\n    i18n.changeLanguage(selectedOption.value);\n    localStorageRef.current.setItem(\"i18next_lng\", selectedOption.value);\n  };\n\n  const options = [\n    { value: \"en\", label: \"EN\" },\n    { value: \"ua\", label: \"UA\" },\n    { value: \"he\", label: \"HE\" },\n  ];\n\n  return (\n    <HeaderWrapper>\n      <StyledSvg>\n        <use href={`${sprite}#globe`} />\n      </StyledSvg>\n      <Select\n        options={options}\n        onChange={handleChangeLanguage}\n        value={selectedLanguage}\n        styles={customStyles}\n      />\n    </HeaderWrapper>\n  );\n};\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}