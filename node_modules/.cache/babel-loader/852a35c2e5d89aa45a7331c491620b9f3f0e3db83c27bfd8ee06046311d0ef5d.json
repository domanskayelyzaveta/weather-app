{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import ApexChart from\"react-apexcharts\";import{StyledChartWrapper}from\"./Chart.styled\";import{jsx as _jsx}from\"react/jsx-runtime\";const Chart=_ref=>{let{data,temperature}=_ref;const[chartData,setChartData]=useState([]);useEffect(()=>{if((data===null||data===void 0?void 0:data.length)>0){const temperatureData=data.slice(0,8).map(item=>({x:new Date(item.dt*1000).toLocaleDateString(\"en-US\",{month:\"short\",day:\"numeric\"}),y:item.main.temp}));setChartData(temperatureData);}},[data]);const processTemperatureData=data=>{return data.map(dataPoint=>({x:dataPoint.x,y:Math.round(dataPoint.y<0?-dataPoint.y:dataPoint.y)}));};const formatDate=date=>{const options={day:\"2-digit\",month:\"2-digit\"};const formattedDate=new Date(date).toLocaleDateString(\"en-US\",options);const[month,day]=formattedDate.split(\"/\");return\"\".concat(day,\".\").concat(month);};const options={stroke:{width:0,curve:\"smooth\"},foreignObject:{height:\"70px\"},chart:{id:\"weather-chart\",toolbar:{show:false},height:80,background:\"transparent\"},dataLabels:{enabled:true,background:\"transparent\",style:{colors:[\"#C5C5C5\"],fontSize:\"6px\",fontFamily:\"Jost\"},offsetY:-4},yaxis:{tickAmount:20,labels:{show:false},axisBorder:{width:0.1,color:\"red\"}},fill:{type:\"gradient\",gradient:{shadeIntensity:1,opacityFrom:0.8,opacityTo:0.9}},xaxis:{categories:chartData.map(dataPoint=>formatDate(dataPoint.x)),axisBorder:{show:false},labels:{offsetY:-6,style:{colors:\"#C5C5C5\",fontSize:\"6px\",fontFamily:\"Jost\"}}},grid:{show:false},tickAmount:0};const series=[{name:\"Temperature\",data:processTemperatureData(chartData).map(dataPoint=>dataPoint.y),color:chartData.some(dataPoint=>dataPoint.y<0)?\"#5B8CFF\":\"#FFA25B\",stroke:{curve:\"smooth\"}}];return/*#__PURE__*/_jsx(StyledChartWrapper,{children:/*#__PURE__*/_jsx(ApexChart,{options:options,series:series,type:\"area\",width:343,height:90})});};export default Chart;","map":{"version":3,"names":["React","useEffect","useState","ApexChart","StyledChartWrapper","jsx","_jsx","Chart","_ref","data","temperature","chartData","setChartData","length","temperatureData","slice","map","item","x","Date","dt","toLocaleDateString","month","day","y","main","temp","processTemperatureData","dataPoint","Math","round","formatDate","date","options","formattedDate","split","concat","stroke","width","curve","foreignObject","height","chart","id","toolbar","show","background","dataLabels","enabled","style","colors","fontSize","fontFamily","offsetY","yaxis","tickAmount","labels","axisBorder","color","fill","type","gradient","shadeIntensity","opacityFrom","opacityTo","xaxis","categories","grid","series","name","some","children"],"sources":["/Users/yelezaveta/Desktop/Без названия/src/components/Chart/Chart.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ApexChart from \"react-apexcharts\";\nimport { StyledChartWrapper } from \"./Chart.styled\";\n\nconst Chart = ({ data, temperature }) => {\n  const [chartData, setChartData] = useState([]);\n\n  useEffect(() => {\n    if (data?.length > 0) {\n      const temperatureData = data.slice(0, 8).map((item) => ({\n        x: new Date(item.dt * 1000).toLocaleDateString(\"en-US\", {\n          month: \"short\",\n          day: \"numeric\",\n        }),\n        y: item.main.temp,\n      }));\n\n      setChartData(temperatureData);\n    }\n  }, [data]);\n\n  const processTemperatureData = (data) => {\n    return data.map((dataPoint) => ({\n      x: dataPoint.x,\n      y: Math.round(dataPoint.y < 0 ? -dataPoint.y : dataPoint.y),\n    }));\n  };\n\n  const formatDate = (date) => {\n    const options = { day: \"2-digit\", month: \"2-digit\" };\n    const formattedDate = new Date(date).toLocaleDateString(\"en-US\", options);\n    const [month, day] = formattedDate.split(\"/\");\n    return `${day}.${month}`;\n  };\n\n  const options = {\n    stroke: {\n      width: 0,\n      curve: \"smooth\",\n    },\n    foreignObject: {\n      height: \"70px\",\n    },\n    chart: {\n      id: \"weather-chart\",\n      toolbar: {\n        show: false,\n      },\n      height: 80,\n      background: \"transparent\",\n    },\n    dataLabels: {\n      enabled: true,\n      background: \"transparent\",\n\n      style: {\n        colors: [\"#C5C5C5\"],\n        fontSize: \"6px\",\n        fontFamily: \"Jost\",\n      },\n      offsetY: -4,\n    },\n    yaxis: {\n      tickAmount: 20,\n      labels: {\n        show: false,\n      },\n      axisBorder: {\n        width: 0.1,\n        color: \"red\",\n      },\n    },\n    fill: {\n      type: \"gradient\",\n      gradient: {\n        shadeIntensity: 1,\n        opacityFrom: 0.8,\n        opacityTo: 0.9,\n      },\n    },\n    xaxis: {\n      categories: chartData.map((dataPoint) => formatDate(dataPoint.x)),\n      axisBorder: {\n        show: false,\n      },\n      labels: {\n        offsetY: -6,\n        style: {\n          colors: \"#C5C5C5\",\n          fontSize: \"6px\",\n          fontFamily: \"Jost\",\n        },\n      },\n    },\n    grid: {\n      show: false,\n    },\n    tickAmount: 0,\n  };\n\n  const series = [\n    {\n      name: \"Temperature\",\n      data: processTemperatureData(chartData).map((dataPoint) => dataPoint.y),\n      color: chartData.some((dataPoint) => dataPoint.y < 0)\n        ? \"#5B8CFF\"\n        : \"#FFA25B\",\n      stroke: {\n        curve: \"smooth\",\n      },\n    },\n  ];\n\n  return (\n    <StyledChartWrapper>\n      <ApexChart\n        options={options}\n        series={series}\n        type=\"area\"\n        width={343}\n        height={90}\n      />\n    </StyledChartWrapper>\n  );\n};\n\nexport default Chart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}